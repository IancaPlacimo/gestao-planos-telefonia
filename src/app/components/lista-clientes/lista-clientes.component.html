<div class="h-screen flex flex-col">

  <app-header></app-header>

  <div *ngIf="mensagemSucesso" class="w-full flex justify-center mt-5">
    <div class="mb-4 p-4 bg-green-100 text-green-800 rounded text-center w-full sm:w-2/3 md:w-1/2 lg:w-1/3 border border-green-800">
      {{ mensagemSucesso }}
    </div>
  </div>


  <main class="flex-1 max-w-7xl mx-auto p-5 sm:p-8 md:p-10 bg-white shadow-md rounded-lg mt-4 mb-10 overflow-auto">
    <h2 class="text-2xl sm:text-3xl font-semibold mb-4 text-center sm:text-left">Lista de Clientes</h2>


    <div class="overflow-x-auto">
      <table class="min-w-full bg-white shadow-md rounded-lg hidden lg:block">
        <thead>
          <tr class="bg-gray-100 text-left">
            <th class="py-2 px-4 border-b text-xs sm:text-sm md:text-base">Nome</th>
            <th class="py-2 px-4 border-b text-xs sm:text-sm md:text-base">CPF</th>
            <th class="py-2 px-4 border-b text-xs sm:text-sm md:text-base">Telefone</th>
            <th class="py-2 px-4 border-b text-xs sm:text-sm md:text-base">E-mail</th>
            <th class="py-2 px-4 border-b text-xs sm:text-sm md:text-base">Plano</th>
            <th class="py-2 px-4 border-b text-center text-xs sm:text-sm md:text-base">Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let cliente of clientes" class="border-b hover:bg-gray-50">
            <td class="py-2 px-4 text-xs sm:text-sm md:text-base">{{ cliente.nome }}</td>
            <td class="py-2 px-4 text-xs sm:text-sm md:text-base">{{ cliente.cpf }}</td>
            <td class="py-2 px-4 text-xs sm:text-sm md:text-base">{{ cliente.telefone }}</td>
            <td class="py-2 px-4 text-xs sm:text-sm md:text-base">{{ cliente.email }}</td>
            <td class="py-2 px-4 text-xs sm:text-sm md:text-base">{{ obterNomePlano(cliente.planoId) }}</td>
            <td class="py-2 px-4 text-center">
              <button (click)="editarCliente(cliente.id)" class="text-blue-600 hover:text-blue-800 text-xs sm:text-sm md:text-base">Editar</button>
              <button (click)="excluirCliente(cliente.id)" class="ml-2 text-red-600 hover:text-red-800 text-xs sm:text-sm md:text-base">Excluir</button>
            </td>
          </tr>
        </tbody>
      </table>

      <div class="block lg:hidden">
        <div *ngFor="let cliente of clientes" class="bg-white shadow-md rounded-lg mb-4 p-4">
          <div class="font-semibold text-xl mb-2">{{ cliente.nome }}</div>
          <div><strong>CPF:</strong> {{ cliente.cpf }}</div>
          <div><strong>Telefone:</strong> {{ cliente.telefone }}</div>
          <div><strong>E-mail:</strong> {{ cliente.email }}</div>
          <div><strong>Plano:</strong> {{ obterNomePlano(cliente.planoId) }}</div>
          <div class="mt-4 flex justify-end">
            <button (click)="editarCliente(cliente.id)" class="text-blue-600 hover:text-blue-800 text-sm">Editar</button>
            <button (click)="excluirCliente(cliente.id)" class="ml-2 text-red-600 hover:text-red-800 text-sm">Excluir</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <app-footer></app-footer>
</div>
